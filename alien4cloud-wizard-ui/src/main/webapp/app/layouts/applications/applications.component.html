<div fxLayout="row" flex fxLayoutGap="10px">
  <mat-form-field>
    <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Profile">
  </mat-form-field>
  <div fxLayout="column" flex="500">
    <button mat-stroked-button>
      Creer une application
    </button>
  </div>

</div>

<br>

<!--
  By default, the MatTableDataSource sorts with the assumption that the sorted column's name matches the data property name that the column displays.
   For example, the following column definition is named position, which matches the name of the property displayed in the row cell.
   (here :  matColumnDef="name" and  element.name )
-->
<table mat-table [dataSource]="dataSource" class="mat-elevation-z2" matSort>


  <!-- Checkbox Column -->
  <ng-container matColumnDef="select">
    <th mat-header-cell *matHeaderCellDef>
      <mat-checkbox (change)="$event ? masterToggle() : null" [checked]="selection.hasValue() && isAllSelected()"
        [indeterminate]="selection.hasValue() && !isAllSelected()" [aria-label]="checkboxLabel()">
      </mat-checkbox>
    </th>
    <td mat-cell *matCellDef="let row">
      <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? selection.toggle(row) : null"
        [checked]="selection.isSelected(row)" [aria-label]="checkboxLabel(row)">
      </mat-checkbox>
    </td>
  </ng-container>


  <ng-container matColumnDef="name">
    <th mat-header-cell class="fa-table-data-row-selected" *matHeaderCellDef mat-sort-header> Application </th>
    <td mat-cell *matCellDef="let element" (click)="cellClicked(element)">{{element.name}}</td>
  </ng-container>

  <ng-container matColumnDef="description">
    <th mat-header-cell *matHeaderCellDef> Description </th>
    <td mat-cell *matCellDef="let element"> <p>{{element.description}}</p></td>
  </ng-container>

  <ng-container matColumnDef="Etat">
    <th mat-header-cell *matHeaderCellDef> Etat </th>
    <td mat-cell *matCellDef="let element"> <button mat-button> undeployed </button> </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>


  <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="element-row" (click)="selection.toggle(row)"></tr>


  <!-- <tr mat-row *matRowDef="let row; columns: displayedColumns;" class="element-row"  [class.expanded]="expandedElement == row" (click)="expandedElement = row"></tr> -->
  <!--<tr mat-row *matRowDef="let row; columns: ['name']; when: isExpansionDetailRow" [@detailExpand]="row.element == expandedElement ? 'expanded' : 'collapsed'"style="overflow: hidden"> </tr> -->
</table>



<br><br>
<div [ngSwitch]="!selection.isEmpty() && selection.selected.length == 1 ">
  <div *ngSwitchCase="true">
    <ul>
      <li *ngFor="let item of selection.selected"><span> Application : {{ item.name }}</span></li>
    </ul>
    <app-application-details [appli]="selection.selected" [metas]="metas"></app-application-details>
  </div>
  <div *ngSwitchCase="false">
    <span>SÃ©lectionner une application ci-dessus</span>
  </div>
</div>